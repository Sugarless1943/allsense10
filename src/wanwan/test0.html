<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    let str = "6[4[2[a]3[b]]]"
    let arr1 = []
    let arr2 = [""]

    let res = ""
    let strArr = str.split("")

    strArr.map(item => {
        // debugger;
        if (isNaN(item - 0)) {
            if (item == "[") {
                arr2.push("")
            }

            if (/[a-z]/.test(item)) {
                arr2[arr2.length - 1] = item
            }

            if (item == "]") {
                console.log(JSON.stringify(arr2),[...arr1].pop())
                for (let i = 0; i < [...arr1].pop(); i++) {
                    arr2[arr2.length - 2] += arr2[arr2.length - 1]
                }
                arr1.pop()
                arr2.pop()
                console.log(JSON.stringify(arr2))
            }
        } else {
            arr1.push(item - 0)
        }
    })

    console.log(arr1,arr2.join(""))


</script>
</html>